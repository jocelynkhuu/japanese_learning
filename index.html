<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Japanese Verb & Adjective Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container">
    <h1 class="mb-4 text-center">📘 Japanese Verb & Adjective Quiz</h1>

    <!-- Menu -->
    <div id="menu" class="mb-3">
      <!-- Collapsible Te-form Cheat Sheet -->
      <div class="mb-3">
        <button class="btn btn-info mb-2 w-100" type="button" data-bs-toggle="collapse" data-bs-target="#teFormTable" aria-expanded="true">
          📖 Show/Hide て-form Conjugation Rules
        </button>

        <div class="collapse show" id="teFormTable">
          <div class="card">
            <div class="card-header bg-primary text-white">
              て-form Conjugation Rules
            </div>
            <div class="card-body table-responsive">
              <table class="table table-bordered table-sm text-center">
                <thead class="table-light">
                  <tr>
                    <th>Ending</th>
                    <th>Rule → て-form</th>
                    <th>Example</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>う, つ, る</td><td>→ って</td><td>あう → あって</td></tr>
                  <tr><td>む, ぶ, ぬ</td><td>→ んで</td><td>のむ → のんで</td></tr>
                  <tr><td>く</td><td>→ いて</td><td>きく → きいて</td></tr>
                  <tr><td>ぐ</td><td>→ いで</td><td>およぐ → およいで</td></tr>
                  <tr><td>す</td><td>→ して</td><td>はなす → はなして</td></tr>
                  <tr><td>る (Ru-verbs)</td><td>→ て</td><td>たべる → たべて</td></tr>
                  <tr>
                    <td>Irregular</td>
                    <td>する → して <br> くる → きて <br> いく → いって</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex flex-wrap gap-2">
        <button class="btn btn-primary flex-fill" onclick="startQuiz()">Take a Verb Quiz</button>
        <button class="btn btn-success flex-fill" onclick="startAdjectiveQuiz()">Take an Adjective Quiz</button>
        <button class="btn btn-secondary flex-fill" onclick="showList()">List All Verbs</button>
        <button class="btn btn-warning flex-fill" onclick="showAdjectives()">List All Adjectives</button>
      </div>
    </div>

    <!-- Verb Quiz -->
    <div id="quiz" style="display:none; min-height: 100vh;">
      <h2>Verb Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1–<span id="totalVerbs"></span>):</label>
        <div class="d-flex gap-2">
          <input type="number" id="numQuestions" class="form-control w-50 w-md-25 d-inline-block" min="1" value="5">
          <button type="button" class="btn btn-outline-secondary" onclick="setMaxQuestions()">Max</button>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose form to practice:</label>
        <select id="quizType" class="form-select w-100 w-md-25 d-inline-block">
          <option value="te">て-form</option>
          <option value="masu">ます-form</option>
          <option value="short">Short form</option>
          <option value="short_past">Short past form</option>
          <option value="short_negative">Short negative form</option>
          <option value="short_past_negative">Short past negative form</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose lesson(s):</label>
        <select id="lessonFilter" class="form-select w-100 w-md-25 d-inline-block" multiple size="6"></select>
        <button class="btn btn-success ms-2 mt-2 mt-md-0" onclick="generateQuiz()">Start</button>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="skipIrregular">
        <label class="form-check-label" for="skipIrregular">Skip irregular verbs</label>
      </div>

      <form id="quizForm" onsubmit="checkAnswers(); return false;"></form>

      <div class="sticky-footer">
        <button class="btn btn-primary w-100" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Adjective Quiz -->
    <div id="adjQuiz" style="display:none; min-height: 100vh;">
      <h2>Adjective Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1–<span id="totalAdjectives"></span>):</label>
        <div class="d-flex gap-2">
          <input type="number" id="numAdjQuestions" class="form-control w-50 w-md-25 d-inline-block" min="1" value="5">
          <button type="button" class="btn btn-outline-secondary" onclick="setMaxAdjectiveQuestions()">Max</button>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose lesson(s):</label>
        <select id="adjLessonFilter" class="form-select w-100 w-md-25 d-inline-block" multiple size="6"></select>
        <button class="btn btn-success ms-2 mt-2 mt-md-0" onclick="generateAdjectiveQuiz()">Start</button>
      </div>

      <form id="adjQuizForm" onsubmit="checkAdjectiveAnswers(); return false;"></form>

      <div class="sticky-footer">
        <button class="btn btn-primary w-100" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Results -->
    <div id="results" style="display:none;">
      <h2>Results</h2>
      <div id="resultsContent"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary w-100" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Verb List -->
    <div id="list" style="display:none; min-height: 100vh;">
      <h2>All Verbs by Lesson</h2>
      <div id="verbTables"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary w-100" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Adjective List -->
    <div id="adjectives" style="display:none; min-height: 100vh;">
      <h2>All Adjectives by Lesson</h2>
      <div id="adjectiveTables"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary w-100" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
