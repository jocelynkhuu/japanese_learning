<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Japanese Verb & Adjective Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container">
    <h1 class="mb-4 text-center">ğŸ“˜ Japanese Verb & Adjective Quiz</h1>

    <!-- Menu -->
    <div id="menu" class="mb-3">
      <!-- Collapsible Te-form Cheat Sheet -->
      <div class="mb-3">
        <button class="btn btn-info mb-2 w-100" type="button" data-bs-toggle="collapse" data-bs-target="#teFormTable" aria-expanded="true">
          ğŸ“– Show/Hide ã¦-form Conjugation Rules
        </button>

        <div class="collapse show" id="teFormTable">
          <div class="card">
            <div class="card-header bg-primary text-white">
              ã¦-form Conjugation Rules
            </div>
            <div class="card-body table-responsive">
              <table class="table table-bordered table-sm text-center">
                <thead class="table-light">
                  <tr>
                    <th>Ending</th>
                    <th>Rule â†’ ã¦-form</th>
                    <th>Example</th>
                    <th>Example ã¾ã™-form</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>ã†, ã¤, ã‚‹</td><td>â†’ ã£ã¦</td><td>ã‚ã† â†’ ã‚ã£ã¦</td><td>ã‚ã„ã¾ã™</td></tr>
                  <tr><td>ã‚€, ã¶, ã¬</td><td>â†’ ã‚“ã§</td><td>ã®ã‚€ â†’ ã®ã‚“ã§</td><td>é£²ã¿ã¾ã™</td></tr>
                  <tr><td>ã</td><td>â†’ ã„ã¦</td><td>ãã â†’ ãã„ã¦</td><td>èãã¾ã™</td></tr>
                  <tr><td>ã</td><td>â†’ ã„ã§</td><td>ãŠã‚ˆã â†’ ãŠã‚ˆã„ã§</td><td>æ³³ãã¾ã™</td></tr>
                  <tr><td>ã™</td><td>â†’ ã—ã¦</td><td>ã¯ãªã™ â†’ ã¯ãªã—ã¦</td><td>è©±ã—ã¾ã™</td></tr>
                  <tr><td>ã‚‹ (Ru-verbs)</td><td>â†’ ã¦</td><td>ãŸã¹ã‚‹ â†’ ãŸã¹ã¦</td><td>ãŸã¹ã¾ã™ <br><small>(ã‚‹ is dropped)</small></td></tr>
                  <tr>
                    <td>Irregular</td>
                    <td>ã™ã‚‹ â†’ ã—ã¦ <br> ãã‚‹ â†’ ãã¦ <br> ã„ã â†’ ã„ã£ã¦</td>
                    <td>
                      å‹‰å¼·ã™ã‚‹ â†’ å‹‰å¼·ã—ã¦ <br>
                      æŒã£ã¦æ¥ã‚‹ â†’ æŒã£ã¦æ¥ã¦ <br>
                      æŒã£ã¦è¡Œã â†’ æŒã£ã¦è¡Œã£ã¦
                    </td>
                    <td>ã—ã¾ã™ / ãã¾ã™ / ã„ãã¾ã™</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex flex-wrap gap-2">
        <button class="btn btn-primary flex-fill nav-btn" data-section="quiz">Take a Verb Quiz</button>
        <button class="btn btn-success flex-fill nav-btn" data-section="adjQuiz">Take an Adjective Quiz</button>
        <button class="btn btn-secondary flex-fill nav-btn" data-section="list">List All Verbs</button>
        <button class="btn btn-warning flex-fill nav-btn" data-section="adjectives">List All Adjectives</button>
      </div>
    </div>

    <!-- Verb Quiz -->
    <div id="quiz" style="display:none; min-height: 100vh;">
      <h2>Verb Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1â€“<span id="totalVerbs"></span>):</label>
        <div class="d-flex gap-2">
          <input type="number" id="numQuestions" class="form-control w-50 w-md-25 d-inline-block" min="1" value="5">
          <button type="button" class="btn btn-outline-secondary" onclick="setMaxQuestions()">Max</button>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose form to practice:</label>
        <select id="quizType" class="form-select w-100 w-md-25 d-inline-block">
          <option value="te">ã¦-form</option>
          <option value="masu">ã¾ã™-form</option>
          <option value="present_short_negative">Present Short Negative</option>
          <option value="past_short_affirmative">Short Past Affirmative</option>
          <option value="past_short_negative">Short Past Negative</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose lesson(s):</label>
        <select id="lessonFilter" class="form-select w-100 w-md-25 d-inline-block" multiple size="6"></select>
        <button class="btn btn-success ms-2 mt-2 mt-md-0" onclick="generateQuiz()">Start</button>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="skipIrregular">
        <label class="form-check-label" for="skipIrregular">Skip irregular verbs</label>
      </div>

      <form id="quizForm" onsubmit="checkAnswers(); return false;"></form>

      <div class="sticky-footer">
        <button class="btn btn-primary w-100 nav-btn" data-section="menu">ğŸ”™ Back to Menu</button>
      </div>
    </div>

    <!-- Adjective Quiz -->
    <div id="adjQuiz" style="display:none; min-height: 100vh;">
      <h2>Adjective Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1â€“<span id="totalAdjectives"></span>):</label>
        <div class="d-flex gap-2">
          <input type="number" id="numAdjQuestions" class="form-control w-50 w-md-25 d-inline-block" min="1" value="5">
          <button type="button" class="btn btn-outline-secondary" onclick="setMaxAdjectiveQuestions()">Max</button>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose form to practice:</label>
        <select id="adjQuizType" class="form-select w-100 w-md-25 d-inline-block">
          <option value="te">ã¦-form</option>
          <option value="past_short">Short Past</option>
          <option value="present_short_negative">Present Short Negative</option>
          <option value="past_short_affirmative">Short Past Affirmative</option>
          <option value="past_short_negative">Short Past Negative</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose lesson(s):</label>
        <select id="adjLessonFilter" class="form-select w-100 w-md-25 d-inline-block" multiple size="6"></select>
        <button class="btn btn-success ms-2 mt-2 mt-md-0" onclick="generateAdjectiveQuiz()">Start</button>
      </div>

      <form id="adjQuizForm" onsubmit="checkAdjectiveAnswers(); return false;"></form>

      <div class="sticky-footer">
        <button class="btn btn-primary w-100 nav-btn" data-section="menu">ğŸ”™ Back to Menu</button>
      </div>
    </div>

    <!-- Results -->
    <div id="results" style="display:none;">
      <h2>Results</h2>
      <div id="resultsContent"></div>
      <div class="sticky-footer d-flex flex-column gap-2">
        <button class="btn btn-primary w-100" onclick="goBackToQuiz()">ğŸ”™ Back to Quiz</button>
        <button class="btn btn-secondary w-100 nav-btn" data-section="menu">ğŸ  Back to Menu</button>
      </div>
    </div>

    <!-- Verb List -->
    <div id="list" style="display:none; min-height: 100vh;">
      <h2>All Verbs by Lesson</h2>
      <div id="verbTables"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary w-100 nav-btn" data-section="menu">ğŸ”™ Back to Menu</button>
      </div>
    </div>

    <!-- Adjective List -->
    <div id="adjectives" style="display:none; min-height: 100vh;">
      <h2>All Adjectives by Lesson</h2>
      <div id="adjectiveTables"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary w-100 nav-btn" data-section="menu">ğŸ”™ Back to Menu</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Navigation Buttons -->
  <script>
    document.querySelectorAll(".nav-btn").forEach(btn => {
      btn.addEventListener("click", e => {
        const section = btn.getAttribute("data-section");
        if (section) navigate(section);
      });
    });
  </script>
</body>
</html>
