<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Japanese Te-form Verb Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 2rem; }
    .correct { color: green; font-weight: bold; }
    .incorrect { color: red; font-weight: bold; }
  </style>
</head>
<body class="bg-light">
  <div class="container">
    <h1 class="mb-4">üìò Japanese Te-form Verb Quiz (Genki I)</h1>

    <!-- Menu -->
    <div id="menu" class="mb-3">
      <button class="btn btn-primary me-2" onclick="startQuiz()">Take a Quiz</button>
      <button class="btn btn-secondary" onclick="showList()">List All Verbs</button>
    </div>

    <!-- Quiz -->
    <div id="quiz" style="display:none;">
      <h2>Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1‚Äì<span id="totalVerbs"></span>):</label>
        <input type="number" id="numQuestions" class="form-control w-25 d-inline-block" min="1" value="5">
        <button class="btn btn-success ms-2" onclick="generateQuiz()">Start</button>
      </div>
      <form id="quizForm" onsubmit="checkAnswers(); return false;"></form>
    </div>

    <!-- Results -->
    <div id="results" style="display:none;">
      <h2>Results</h2>
      <div id="resultsContent"></div>
      <button class="btn btn-primary mt-3" onclick="reset()">üîô Back to Menu</button>
    </div>

    <!-- Verb List -->
    <div id="list" style="display:none;">
      <h2>All Verbs</h2>
      <table class="table table-striped table-bordered">
        <thead class="table-dark">
          <tr><th>Dict</th><th>Te-form(s)</th><th>Type</th><th>Meaning</th></tr>
        </thead>
        <tbody id="verbTable"></tbody>
      </table>
      <button class="btn btn-primary mt-3" onclick="reset()">üîô Back to Menu</button>
    </div>
  </div>

  <script>
    // ==== Full Genki I Verbs (Kana + optional Kanji) ====
    const verbs = [
      // U-verbs
      {dict: "„ÅÇ„ÅÜ", type: "u-verb", answers: ["„ÅÇ„Å£„Å¶","‰ºö„Å£„Å¶"], meaning: "to meet"},
      {dict: "„ÅÇ„Åù„Å∂", type: "u-verb", answers: ["„ÅÇ„Åù„Çì„Åß"], meaning: "to play; spend time pleasantly"},
      {dict: "„Åã„Å∂„Çã", type: "u-verb", answers: ["„Åã„Å∂„Å£„Å¶"], meaning: "to put on (a hat)"},
      {dict: "„ÅØ„Åè", type: "u-verb", answers: ["„ÅØ„ÅÑ„Å¶"], meaning: "to put on (items below your waist)"},
      {dict: "„Åó„Çã", type: "u-verb", answers: ["„Åó„Å£„Å¶","Áü•„Å£„Å¶"], meaning: "to get to know"},
      {dict: "„Åô„ÇÄ", type: "u-verb", answers: ["„Åô„Çì„Åß","‰Ωè„Çì„Åß"], meaning: "to live"},
      {dict: "„ÅØ„Åü„Çâ„Åè", type: "u-verb", answers: ["„ÅØ„Åü„Çâ„ÅÑ„Å¶","ÂÉç„ÅÑ„Å¶"], meaning: "to work"},
      {dict: "„Åµ„Å®„Çã", type: "u-verb", answers: ["„Åµ„Å®„Å£„Å¶"], meaning: "to gain weight"},
      {dict: "„ÅÑ„Åè", type: "u-verb (exception)", answers: ["„ÅÑ„Å£„Å¶","Ë°å„Å£„Å¶"], meaning: "to go"},
      {dict: "„ÅÑ„ÅÜ", type: "u-verb", answers: ["„ÅÑ„Å£„Å¶","Ë®Ä„Å£„Å¶"], meaning: "to say"},
      {dict: "„ÅÑ„Åù„Åê", type: "u-verb", answers: ["„ÅÑ„Åù„ÅÑ„Åß","ÊÄ•„ÅÑ„Åß"], meaning: "to hurry"},
      {dict: "„ÅÜ„Åü„ÅÜ", type: "u-verb", answers: ["„ÅÜ„Åü„Å£„Å¶","Ê≠å„Å£„Å¶"], meaning: "to sing"},
      {dict: "„Åä„Å©„Çã", type: "u-verb", answers: ["„Åä„Å©„Å£„Å¶","Ë∏ä„Å£„Å¶"], meaning: "to dance"},
      {dict: "„Åä„Çè„Çã", type: "u-verb", answers: ["„Åä„Çè„Å£„Å¶","ÁµÇ„Çè„Å£„Å¶"], meaning: "something ends"},
      {dict: "„Åä„Çà„Åê", type: "u-verb", answers: ["„Åä„Çà„ÅÑ„Åß","Ê≥≥„ÅÑ„Åß"], meaning: "to swim"},
      {dict: "„Åã„ÅÜ", type: "u-verb", answers: ["„Åã„Å£„Å¶","Ë≤∑„Å£„Å¶"], meaning: "to buy"},
      {dict: "„Åã„Åè", type: "u-verb", answers: ["„Åã„ÅÑ„Å¶","Êõ∏„ÅÑ„Å¶"], meaning: "to write"},
      {dict: "„Åã„Åà„Åô", type: "u-verb", answers: ["„Åã„Åà„Åó„Å¶","Ëøî„Åó„Å¶"], meaning: "to return (a thing)"},
      {dict: "„Åã„Åô", type: "u-verb", answers: ["„Åã„Åó„Å¶","Ë≤∏„Åó„Å¶"], meaning: "to lend"},
      {dict: "„Åç„Åè", type: "u-verb", answers: ["„Åç„ÅÑ„Å¶","ËÅû„ÅÑ„Å¶"], meaning: "to ask; to listen"},
      {dict: "„Åë„Åô", type: "u-verb", answers: ["„Åë„Åó„Å¶","Ê∂à„Åó„Å¶"], meaning: "to turn off; erase"},
      {dict: "„Åô„Çè„Çã", type: "u-verb", answers: ["„Åô„Çè„Å£„Å¶","Â∫ß„Å£„Å¶"], meaning: "to sit down"},
      {dict: "„Åü„Å§", type: "u-verb", answers: ["„Åü„Å£„Å¶","Á´ã„Å£„Å¶"], meaning: "to stand up"},
      {dict: "„Çø„Éê„Ç≥„Çí„Åô„ÅÜ", type: "u-verb", answers: ["„Çø„Éê„Ç≥„Çí„Åô„Å£„Å¶"], meaning: "to smoke"},
      {dict: "„Å§„Åã„ÅÜ", type: "u-verb", answers: ["„Å§„Åã„Å£„Å¶","‰Ωø„Å£„Å¶"], meaning: "to use"},
      {dict: "„Å¶„Å§„Å†„ÅÜ", type: "u-verb", answers: ["„Å¶„Å§„Å†„Å£„Å¶","Êâã‰ºù„Å£„Å¶"], meaning: "to help"},
      {dict: "„Å®„Çã", type: "u-verb", answers: ["„Å®„Å£„Å¶","Âèñ„Å£„Å¶"], meaning: "to take"},
      {dict: "„Å™„Åè„Åô", type: "u-verb", answers: ["„Å™„Åè„Åó„Å¶","Â§±„Åè„Åó„Å¶"], meaning: "to lose"},
      {dict: "„ÅÆ„ÇÄ", type: "u-verb", answers: ["„ÅÆ„Çì„Åß","È£≤„Çì„Åß"], meaning: "to drink"},
      {dict: "„Åó„Å¨", type: "u-verb", answers: ["„Åó„Çì„Åß","Ê≠ª„Çì„Åß"], meaning: "to die"},
      {dict: "„ÅÆ„Çã", type: "u-verb", answers: ["„ÅÆ„Å£„Å¶","‰πó„Å£„Å¶"], meaning: "to ride; to board"},
      {dict: "„ÅØ„ÅÑ„Çã", type: "u-verb", answers: ["„ÅØ„ÅÑ„Å£„Å¶","ÂÖ•„Å£„Å¶"], meaning: "to enter"},
      {dict: "„ÅØ„Åò„Åæ„Çã", type: "u-verb", answers: ["„ÅØ„Åò„Åæ„Å£„Å¶","Âßã„Åæ„Å£„Å¶"], meaning: "something begins"},
      {dict: "„ÅØ„Å™„Åô", type: "u-verb", answers: ["„ÅØ„Å™„Åó„Å¶","Ë©±„Åó„Å¶"], meaning: "to speak"},
      {dict: "„ÅØ„Çâ„ÅÜ", type: "u-verb", answers: ["„ÅØ„Çâ„Å£„Å¶","Êâï„Å£„Å¶"], meaning: "to pay"},
      {dict: "„Å≤„Åè", type: "u-verb", answers: ["„Å≤„ÅÑ„Å¶","Âºæ„ÅÑ„Å¶"], meaning: "to play (string instrument)"},
      {dict: "„ÇÇ„Å§", type: "u-verb", answers: ["„ÇÇ„Å£„Å¶","ÊåÅ„Å£„Å¶"], meaning: "to carry; to hold"},
      {dict: "„ÇÑ„Åô„ÇÄ", type: "u-verb", answers: ["„ÇÑ„Åô„Çì„Åß","‰ºë„Çì„Åß"], meaning: "to rest; to be absent"},
      {dict: "„Çà„ÇÄ", type: "u-verb", answers: ["„Çà„Çì„Åß","Ë™≠„Çì„Åß"], meaning: "to read"},

      // Ru-verbs
      {dict: "„ÅÇ„Åë„Çã", type: "ru-verb", answers: ["„ÅÇ„Åë„Å¶","Èñã„Åë„Å¶"], meaning: "to open (something)"},
      {dict: "„ÅÇ„Åí„Çã", type: "ru-verb", answers: ["„ÅÇ„Åí„Å¶","‰∏ä„Åí„Å¶"], meaning: "to give"},
      {dict: "„ÅÑ„Çã", type: "ru-verb", answers: ["„ÅÑ„Å¶"], meaning: "to need"},
      {dict: "„Åä„Åç„Çã", type: "ru-verb", answers: ["„Åä„Åç„Å¶","Ëµ∑„Åç„Å¶"], meaning: "to get up"},
      {dict: "„Åä„Åó„Åà„Çã", type: "ru-verb", answers: ["„Åä„Åó„Åà„Å¶","Êïô„Åà„Å¶"], meaning: "to teach"},
      {dict: "„Åä„Çä„Çã", type: "ru-verb", answers: ["„Åä„Çä„Å¶","Èôç„Çä„Å¶"], meaning: "to get off"},
      {dict: "„Åã„Åë„Çã", type: "ru-verb", answers: ["„Åã„Åë„Å¶"], meaning: "to make a phone call / put on glasses"},
      {dict: "„Åã„Çä„Çã", type: "ru-verb", answers: ["„Åã„Çä„Å¶","ÂÄü„Çä„Å¶"], meaning: "to borrow"},
      {dict: "„Åç„Çã", type: "ru-verb", answers: ["„Åç„Å¶","ÁùÄ„Å¶"], meaning: "to wear (above waist)"},
      {dict: "„Åó„ÇÅ„Çã", type: "ru-verb", answers: ["„Åó„ÇÅ„Å¶","Èñâ„ÇÅ„Å¶"], meaning: "to close (something)"},
      {dict: "„Å§„Åë„Çã", type: "ru-verb", answers: ["„Å§„Åë„Å¶"], meaning: "to turn on"},
      {dict: "„Åß„Åã„Åë„Çã", type: "ru-verb", answers: ["„Åß„Åã„Åë„Å¶","Âá∫„Åã„Åë„Å¶"], meaning: "to go out"},
      {dict: "„Åß„Çã", type: "ru-verb", answers: ["„Åß„Å¶","Âá∫„Å¶"], meaning: "to leave; to attend"},
      {dict: "„Å≠„Çã", type: "ru-verb", answers: ["„Å≠„Å¶","ÂØù„Å¶"], meaning: "to sleep"},
      {dict: "„Åø„Çã", type: "ru-verb", answers: ["„Åø„Å¶","Ë¶ã„Å¶"], meaning: "to see; to watch"},
      {dict: "„Çè„Åô„Çå„Çã", type: "ru-verb", answers: ["„Çè„Åô„Çå„Å¶","Âøò„Çå„Å¶"], meaning: "to forget"},
      {dict: "„Ç∑„É£„ÉØ„Éº„Çí„ÅÇ„Å≥„Çã", type: "ru-verb", answers: ["„Ç∑„É£„ÉØ„Éº„Çí„ÅÇ„Å≥„Å¶"], meaning: "to take a shower"},
      {dict: "„ÇÑ„Åõ„Çã", type: "ru-verb", answers: ["„ÇÑ„Åõ„Å¶"], meaning: "to lose weight"},

      // Irregular
      {dict: "„Åè„Çã", type: "irregular", answers: ["„Åç„Å¶","Êù•„Å¶"], meaning: "to come"},
      {dict: "„Åô„Çã", type: "irregular", answers: ["„Åó„Å¶"], meaning: "to do"},
      {dict: "„Åπ„Çì„Åç„Çá„ÅÜ„Åô„Çã", type: "irregular", answers: ["„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Å¶","ÂãâÂº∑„Åó„Å¶"], meaning: "to study"},
      {dict: "„Åë„Å£„Åì„Çì„Åô„Çã", type: "irregular", answers: ["„Åë„Å£„Åì„Çì„Åó„Å¶","ÁµêÂ©ö„Åó„Å¶"], meaning: "to marry"},
      {dict: "„Åï„Çì„ÅΩ„Åô„Çã", type: "irregular", answers: ["„Åï„Çì„ÅΩ„Åó„Å¶","Êï£Ê≠©„Åó„Å¶"], meaning: "to take a walk"},
      {dict: "„ÅÜ„Çì„Å¶„Çì„Åô„Çã", type: "irregular", answers: ["„ÅÜ„Çì„Å¶„Çì„Åó„Å¶","ÈÅãËª¢„Åó„Å¶"], meaning: "to drive"},
      {dict: "„Çä„Çá„Åì„ÅÜ„Åô„Çã", type: "irregular", answers: ["„Çä„Çá„Åì„ÅÜ„Åó„Å¶","ÊóÖË°å„Åó„Å¶"], meaning: "to travel"},
      {dict: "„Åù„ÅÜ„Åò„Åô„Çã", type: "irregular", answers: ["„Åù„ÅÜ„Åò„Åó„Å¶","ÊéÉÈô§„Åó„Å¶"], meaning: "to clean"},
      {dict: "„Åß„Çì„Çè„Åô„Çã", type: "irregular", answers: ["„Åß„Çì„Çè„Åó„Å¶","ÈõªË©±„Åó„Å¶"], meaning: "to call"},
      {dict: "„Å§„Çå„Å¶„Åè„Çã", type: "irregular", answers: ["„Å§„Çå„Å¶„Åç„Å¶","ÈÄ£„Çå„Å¶„Åç„Å¶"], meaning: "to bring (a person)"},
      {dict: "„ÇÇ„Å£„Å¶„Åè„Çã", type: "irregular", answers: ["„ÇÇ„Å£„Å¶„Åç„Å¶","ÊåÅ„Å£„Å¶„Åç„Å¶"], meaning: "to bring (a thing)"}
    ];

    document.getElementById("totalVerbs").textContent = verbs.length;

    function startQuiz() {
      document.getElementById("menu").style.display = "none";
      document.getElementById("quiz").style.display = "block";
    }

    function showList() {
      document.getElementById("menu").style.display = "none";
      document.getElementById("list").style.display = "block";
      const tbody = document.getElementById("verbTable");
      tbody.innerHTML = "";
      verbs.forEach(v => {
        const row = `<tr><td>${v.dict}</td><td>${v.answers.join(", ")}</td><td>${v.type}</td><td>${v.meaning}</td></tr>`;
        tbody.innerHTML += row;
      });
    }

    let currentQuestions = [];

    function generateQuiz() {
      const num = Math.min(parseInt(document.getElementById("numQuestions").value), verbs.length);
      currentQuestions = shuffle([...verbs]).slice(0, num);

      const form = document.getElementById("quizForm");
      form.innerHTML = "";
      currentQuestions.forEach((v, i) => {
        form.innerHTML += `
          <div class="mb-3">
            <label class="form-label">Q${i+1}: ${v.dict} (${v.meaning}) ‚Üí te-form?</label>
            <input type="text" class="form-control" name="q${i}" data-answers='${JSON.stringify(v.answers)}'>
          </div>
        `;
      });
      form.innerHTML += `<button type="submit" class="btn btn-success">Submit Answers</button>`;
    }

    function checkAnswers() {
      let score = 0;
      let output = "";
      currentQuestions.forEach((v, i) => {
        const input = document.querySelector(`[name=q${i}]`);
        const userAnswer = input.value.trim();
        const validAnswers = JSON.parse(input.getAttribute("data-answers"));
        if (validAnswers.includes(userAnswer)) {
          score++;
          output += `<div class="alert alert-success">‚úÖ Q${i+1}: Correct (${userAnswer})</div>`;
        } else {
          output += `<div class="alert alert-danger">‚ùå Q${i+1}: Your answer: "${userAnswer}"<br>Acceptable: ${validAnswers.join(", ")} (${v.type})</div>`;
        }
      });
      output += `<p class="fw-bold">Final Score: ${score}/${currentQuestions.length}</p>`;

      document.getElementById("quiz").style.display = "none";
      document.getElementById("results").style.display = "block";
      document.getElementById("resultsContent").innerHTML = output;
    }

    function reset() {
      document.getElementById("quiz").style.display = "none";
      document.getElementById("results").style.display = "none";
      document.getElementById("list").style.display = "none";
      document.getElementById("menu").style.display = "block";
    }

    // Fisher-Yates shuffle
    function shuffle(array) {
      let m = array.length, t, i;
      while (m) {
        i = Math.floor(Math.random() * m--);
        t = array[m]; array[m] = array[i]; array[i] = t;
      }
      return array;
    }
  </script>
</body>
</html>
