<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Japanese Verb Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 2rem; }
    .correct { color: green; font-weight: bold; }
    .incorrect { color: red; font-weight: bold; }
  </style>
</head>
<body class="bg-light">
  <div class="container">
    <h1 class="mb-4">üìò Japanese Verb Quiz (Genki I)</h1>

    <!-- Menu -->
    <div id="menu" class="mb-3">
      <button class="btn btn-primary me-2" onclick="startQuiz()">Take a Quiz</button>
      <button class="btn btn-secondary" onclick="showList()">List All Verbs</button>
    </div>

    <!-- Quiz -->
    <div id="quiz" style="display:none;">
      <h2>Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1‚Äì<span id="totalVerbs"></span>):</label>
        <input type="number" id="numQuestions" class="form-control w-25 d-inline-block" min="1" value="5">
      </div>
      <div class="mb-3">
        <label class="form-label">Choose form to practice:</label>
        <select id="quizType" class="form-select w-25 d-inline-block">
          <option value="te">Te-form</option>
          <option value="masu">Masu-form</option>
        </select>
        <button class="btn btn-success ms-2" onclick="generateQuiz()">Start</button>
      </div>
      <form id="quizForm" onsubmit="checkAnswers(); return false;"></form>
    </div>

    <!-- Results -->
    <div id="results" style="display:none;">
      <h2>Results</h2>
      <div id="resultsContent"></div>
      <button class="btn btn-primary mt-3" onclick="reset()">üîô Back to Menu</button>
    </div>

    <!-- Verb List -->
    <div id="list" style="display:none;">
      <h2>All Verbs</h2>
      <table class="table table-striped table-bordered">
        <thead class="table-dark">
          <tr><th>Dict</th><th>Te-form(s)</th><th>Masu-form(s)</th><th>Type</th><th>Meaning</th></tr>
        </thead>
        <tbody id="verbTable"></tbody>
      </table>
      <button class="btn btn-primary mt-3" onclick="reset()">üîô Back to Menu</button>
    </div>
  </div>

  <script>
    // ==== Verbs with both Te-form + Masu-form ====
    const verbs = [
      // U-verbs
      {dict: "„ÅÇ„ÅÜ", type: "u-verb", te: ["„ÅÇ„Å£„Å¶","‰ºö„Å£„Å¶"], masu: ["„ÅÇ„ÅÑ„Åæ„Åô","‰ºö„ÅÑ„Åæ„Åô"], meaning: "to meet"},
      {dict: "„ÅÇ„Åù„Å∂", type: "u-verb", te: ["„ÅÇ„Åù„Çì„Åß","ÈÅä„Çì„Åß"], masu: ["„ÅÇ„Åù„Å≥„Åæ„Åô","ÈÅä„Å≥„Åæ„Åô"], meaning: "to play; spend time pleasantly"},
      {dict: "„Åã„Å∂„Çã", type: "u-verb", te: ["„Åã„Å∂„Å£„Å¶"], masu: ["„Åã„Å∂„Çä„Åæ„Åô"], meaning: "to put on (a hat)"},
      {dict: "„ÅØ„Åè", type: "u-verb", te: ["„ÅØ„ÅÑ„Å¶"], masu: ["„ÅØ„Åç„Åæ„Åô"], meaning: "to put on (items below waist)"},
      {dict: "„Åó„Çã", type: "u-verb", te: ["„Åó„Å£„Å¶","Áü•„Å£„Å¶"], masu: ["„Åó„Çä„Åæ„Åô","Áü•„Çä„Åæ„Åô"], meaning: "to get to know"},
      {dict: "„Åô„ÇÄ", type: "u-verb", te: ["„Åô„Çì„Åß","‰Ωè„Çì„Åß"], masu: ["„Åô„Åø„Åæ„Åô","‰Ωè„Åø„Åæ„Åô"], meaning: "to live"},
      {dict: "„ÅØ„Åü„Çâ„Åè", type: "u-verb", te: ["„ÅØ„Åü„Çâ„ÅÑ„Å¶","ÂÉç„ÅÑ„Å¶"], masu: ["„ÅØ„Åü„Çâ„Åç„Åæ„Åô","ÂÉç„Åç„Åæ„Åô"], meaning: "to work"},
      {dict: "„Åµ„Å®„Çã", type: "u-verb", te: ["„Åµ„Å®„Å£„Å¶"], masu: ["„Åµ„Å®„Çä„Åæ„Åô"], meaning: "to gain weight"},
      {dict: "„ÅÑ„Åè", type: "u-verb (exception)", te: ["„ÅÑ„Å£„Å¶","Ë°å„Å£„Å¶"], masu: ["„ÅÑ„Åç„Åæ„Åô","Ë°å„Åç„Åæ„Åô"], meaning: "to go"},
      {dict: "„ÅÑ„ÅÜ", type: "u-verb", te: ["„ÅÑ„Å£„Å¶","Ë®Ä„Å£„Å¶"], masu: ["„ÅÑ„ÅÑ„Åæ„Åô","Ë®Ä„ÅÑ„Åæ„Åô"], meaning: "to say"},
      {dict: "„ÅÑ„Åù„Åê", type: "u-verb", te: ["„ÅÑ„Åù„ÅÑ„Åß","ÊÄ•„ÅÑ„Åß"], masu: ["„ÅÑ„Åù„Åé„Åæ„Åô","ÊÄ•„Åé„Åæ„Åô"], meaning: "to hurry"},
      {dict: "„ÅÜ„Åü„ÅÜ", type: "u-verb", te: ["„ÅÜ„Åü„Å£„Å¶","Ê≠å„Å£„Å¶"], masu: ["„ÅÜ„Åü„ÅÑ„Åæ„Åô","Ê≠å„ÅÑ„Åæ„Åô"], meaning: "to sing"},
      {dict: "„Åä„Å©„Çã", type: "u-verb", te: ["„Åä„Å©„Å£„Å¶","Ë∏ä„Å£„Å¶"], masu: ["„Åä„Å©„Çä„Åæ„Åô","Ë∏ä„Çä„Åæ„Åô"], meaning: "to dance"},
      {dict: "„Åä„Çè„Çã", type: "u-verb", te: ["„Åä„Çè„Å£„Å¶","ÁµÇ„Çè„Å£„Å¶"], masu: ["„Åä„Çè„Çä„Åæ„Åô","ÁµÇ„Çè„Çä„Åæ„Åô"], meaning: "something ends"},
      {dict: "„Åä„Çà„Åê", type: "u-verb", te: ["„Åä„Çà„ÅÑ„Åß","Ê≥≥„ÅÑ„Åß"], masu: ["„Åä„Çà„Åé„Åæ„Åô","Ê≥≥„Åé„Åæ„Åô"], meaning: "to swim"},
      {dict: "„Åã„ÅÜ", type: "u-verb", te: ["„Åã„Å£„Å¶","Ë≤∑„Å£„Å¶"], masu: ["„Åã„ÅÑ„Åæ„Åô","Ë≤∑„ÅÑ„Åæ„Åô"], meaning: "to buy"},
      {dict: "„Åã„Åè", type: "u-verb", te: ["„Åã„ÅÑ„Å¶","Êõ∏„ÅÑ„Å¶"], masu: ["„Åã„Åç„Åæ„Åô","Êõ∏„Åç„Åæ„Åô"], meaning: "to write"},
      {dict: "„Åã„Åà„Åô", type: "u-verb", te: ["„Åã„Åà„Åó„Å¶","Ëøî„Åó„Å¶"], masu: ["„Åã„Åà„Åó„Åæ„Åô","Ëøî„Åó„Åæ„Åô"], meaning: "to return (a thing)"},
      {dict: "„Åã„Åô", type: "u-verb", te: ["„Åã„Åó„Å¶","Ë≤∏„Åó„Å¶"], masu: ["„Åã„Åó„Åæ„Åô","Ë≤∏„Åó„Åæ„Åô"], meaning: "to lend"},
      {dict: "„Åç„Åè", type: "u-verb", te: ["„Åç„ÅÑ„Å¶","ËÅû„ÅÑ„Å¶"], masu: ["„Åç„Åç„Åæ„Åô","ËÅû„Åç„Åæ„Åô"], meaning: "to ask; to listen"},
      {dict: "„Åë„Åô", type: "u-verb", te: ["„Åë„Åó„Å¶","Ê∂à„Åó„Å¶"], masu: ["„Åë„Åó„Åæ„Åô","Ê∂à„Åó„Åæ„Åô"], meaning: "to turn off; erase"},
      {dict: "„Åô„Çè„Çã", type: "u-verb", te: ["„Åô„Çè„Å£„Å¶","Â∫ß„Å£„Å¶"], masu: ["„Åô„Çè„Çä„Åæ„Åô","Â∫ß„Çä„Åæ„Åô"], meaning: "to sit down"},
      {dict: "„Åü„Å§", type: "u-verb", te: ["„Åü„Å£„Å¶","Á´ã„Å£„Å¶"], masu: ["„Åü„Å°„Åæ„Åô","Á´ã„Å°„Åæ„Åô"], meaning: "to stand up"},
      {dict: "„Çø„Éê„Ç≥„Çí„Åô„ÅÜ", type: "u-verb", te: ["„Çø„Éê„Ç≥„Çí„Åô„Å£„Å¶"], masu: ["„Çø„Éê„Ç≥„Çí„Åô„ÅÑ„Åæ„Åô"], meaning: "to smoke"},
      {dict: "„Å§„Åã„ÅÜ", type: "u-verb", te: ["„Å§„Åã„Å£„Å¶","‰Ωø„Å£„Å¶"], masu: ["„Å§„Åã„ÅÑ„Åæ„Åô","‰Ωø„ÅÑ„Åæ„Åô"], meaning: "to use"},
      {dict: "„Å¶„Å§„Å†„ÅÜ", type: "u-verb", te: ["„Å¶„Å§„Å†„Å£„Å¶","Êâã‰ºù„Å£„Å¶"], masu: ["„Å¶„Å§„Å†„ÅÑ„Åæ„Åô","Êâã‰ºù„ÅÑ„Åæ„Åô"], meaning: "to help"},
      {dict: "„Å®„Çã", type: "u-verb", te: ["„Å®„Å£„Å¶","Âèñ„Å£„Å¶"], masu: ["„Å®„Çä„Åæ„Åô","Âèñ„Çä„Åæ„Åô"], meaning: "to take"},
      {dict: "„Å™„Åè„Åô", type: "u-verb", te: ["„Å™„Åè„Åó„Å¶","Â§±„Åè„Åó„Å¶"], masu: ["„Å™„Åè„Åó„Åæ„Åô","Â§±„Åè„Åó„Åæ„Åô"], meaning: "to lose"},
      {dict: "„ÅÆ„ÇÄ", type: "u-verb", te: ["„ÅÆ„Çì„Åß","È£≤„Çì„Åß"], masu: ["„ÅÆ„Åø„Åæ„Åô","È£≤„Åø„Åæ„Åô"], meaning: "to drink"},
      {dict: "„Åó„Å¨", type: "u-verb", te: ["„Åó„Çì„Åß","Ê≠ª„Çì„Åß"], masu: ["„Åó„Å´„Åæ„Åô","Ê≠ª„Å´„Åæ„Åô"], meaning: "to die"},
      {dict: "„ÅÆ„Çã", type: "u-verb", te: ["„ÅÆ„Å£„Å¶","‰πó„Å£„Å¶"], masu: ["„ÅÆ„Çä„Åæ„Åô","‰πó„Çä„Åæ„Åô"], meaning: "to ride; to board"},
      {dict: "„ÅØ„ÅÑ„Çã", type: "u-verb", te: ["„ÅØ„ÅÑ„Å£„Å¶","ÂÖ•„Å£„Å¶"], masu: ["„ÅØ„ÅÑ„Çä„Åæ„Åô","ÂÖ•„Çä„Åæ„Åô"], meaning: "to enter"},
      {dict: "„ÅØ„Åò„Åæ„Çã", type: "u-verb", te: ["„ÅØ„Åò„Åæ„Å£„Å¶","Âßã„Åæ„Å£„Å¶"], masu: ["„ÅØ„Åò„Åæ„Çä„Åæ„Åô","Âßã„Åæ„Çä„Åæ„Åô"], meaning: "something begins"},
      {dict: "„ÅØ„Å™„Åô", type: "u-verb", te: ["„ÅØ„Å™„Åó„Å¶","Ë©±„Åó„Å¶"], masu: ["„ÅØ„Å™„Åó„Åæ„Åô","Ë©±„Åó„Åæ„Åô"], meaning: "to speak"},
      {dict: "„ÅØ„Çâ„ÅÜ", type: "u-verb", te: ["„ÅØ„Çâ„Å£„Å¶","Êâï„Å£„Å¶"], masu: ["„ÅØ„Çâ„ÅÑ„Åæ„Åô","Êâï„ÅÑ„Åæ„Åô"], meaning: "to pay"},
      {dict: "„Å≤„Åè", type: "u-verb", te: ["„Å≤„ÅÑ„Å¶","Âºæ„ÅÑ„Å¶"], masu: ["„Å≤„Åç„Åæ„Åô","Âºæ„Åç„Åæ„Åô"], meaning: "to play (string instrument)"},
      {dict: "„ÇÇ„Å§", type: "u-verb", te: ["„ÇÇ„Å£„Å¶","ÊåÅ„Å£„Å¶"], masu: ["„ÇÇ„Å°„Åæ„Åô","ÊåÅ„Å°„Åæ„Åô"], meaning: "to carry; to hold"},
      {dict: "„ÇÑ„Åô„ÇÄ", type: "u-verb", te: ["„ÇÑ„Åô„Çì„Åß","‰ºë„Çì„Åß"], masu: ["„ÇÑ„Åô„Åø„Åæ„Åô","‰ºë„Åø„Åæ„Åô"], meaning: "to rest; to be absent"},
      {dict: "„Çà„ÇÄ", type: "u-verb", te: ["„Çà„Çì„Åß","Ë™≠„Çì„Åß"], masu: ["„Çà„Åø„Åæ„Åô","Ë™≠„Åø„Åæ„Åô"], meaning: "to read"},

      // Ru-verbs
      {dict: "„ÅÇ„Åë„Çã", type: "ru-verb", te: ["„ÅÇ„Åë„Å¶","Èñã„Åë„Å¶"], masu: ["„ÅÇ„Åë„Åæ„Åô","Èñã„Åë„Åæ„Åô"], meaning: "to open (something)"},
      {dict: "„ÅÇ„Åí„Çã", type: "ru-verb", te: ["„ÅÇ„Åí„Å¶","‰∏ä„Åí„Å¶"], masu: ["„ÅÇ„Åí„Åæ„Åô","‰∏ä„Åí„Åæ„Åô"], meaning: "to give"},
      {dict: "„ÅÑ„Çã", type: "ru-verb", te: ["„ÅÑ„Å¶"], masu: ["„ÅÑ„Çä„Åæ„Åô"], meaning: "to need"}, // (note: „ÅÑ„Çã "to exist" also appears, but Genki I usually covers „ÅÑ„Çã "to be (animate)")
      {dict: "„Åä„Åç„Çã", type: "ru-verb", te: ["„Åä„Åç„Å¶","Ëµ∑„Åç„Å¶"], masu: ["„Åä„Åç„Åæ„Åô","Ëµ∑„Åç„Åæ„Åô"], meaning: "to get up"},
      {dict: "„Åä„Åó„Åà„Çã", type: "ru-verb", te: ["„Åä„Åó„Åà„Å¶","Êïô„Åà„Å¶"], masu: ["„Åä„Åó„Åà„Åæ„Åô","Êïô„Åà„Åæ„Åô"], meaning: "to teach"},
      {dict: "„Åä„Çä„Çã", type: "ru-verb", te: ["„Åä„Çä„Å¶","Èôç„Çä„Å¶"], masu: ["„Åä„Çä„Åæ„Åô","Èôç„Çä„Åæ„Åô"], meaning: "to get off"},
      {dict: "„Åã„Åë„Çã", type: "ru-verb", te: ["„Åß„Çì„Çè„Çí„Åã„Åë„Å¶","ÈõªË©±„Çí„Åã„Åë„Å¶"], masu: ["„Åß„Çì„Çè„Çí„Åã„Åë„Åæ„Åô","ÈõªË©±„Çí„Åã„Åë„Åæ„Åô"], meaning: "to make a phone call"},
      {dict: "„Åã„Åë„Çã", type: "ru-verb", te: ["„Åã„Åë„Å¶"], masu: ["„Åã„Åë„Åæ„Åô"], meaning: "to put on (glasses)"},
      {dict: "„Åã„Çä„Çã", type: "ru-verb", te: ["„Åã„Çä„Å¶","ÂÄü„Çä„Å¶"], masu: ["„Åã„Çä„Åæ„Åô","ÂÄü„Çä„Åæ„Åô"], meaning: "to borrow"},
      {dict: "„Åç„Çã", type: "ru-verb", te: ["„Åç„Å¶","ÁùÄ„Å¶"], masu: ["„Åç„Åæ„Åô","ÁùÄ„Åæ„Åô"], meaning: "to wear (above waist)"},
      {dict: "„Åó„ÇÅ„Çã", type: "ru-verb", te: ["„Åó„ÇÅ„Å¶","Èñâ„ÇÅ„Å¶"], masu: ["„Åó„ÇÅ„Åæ„Åô","Èñâ„ÇÅ„Åæ„Åô"], meaning: "to close (something)"},
      {dict: "„Å§„Åë„Çã", type: "ru-verb", te: ["„Å§„Åë„Å¶"], masu: ["„Å§„Åë„Åæ„Åô"], meaning: "to turn on"},
      {dict: "„Åß„Åã„Åë„Çã", type: "ru-verb", te: ["„Åß„Åã„Åë„Å¶","Âá∫„Åã„Åë„Å¶"], masu: ["„Åß„Åã„Åë„Åæ„Åô","Âá∫„Åã„Åë„Åæ„Åô"], meaning: "to go out"},
      {dict: "„Åß„Çã", type: "ru-verb", te: ["„Åß„Å¶","Âá∫„Å¶"], masu: ["„Åß„Åæ„Åô","Âá∫„Åæ„Åô"], meaning: "to leave; to attend"},
      {dict: "„Å≠„Çã", type: "ru-verb", te: ["„Å≠„Å¶","ÂØù„Å¶"], masu: ["„Å≠„Åæ„Åô","ÂØù„Åæ„Åô"], meaning: "to sleep"},
      {dict: "„Åø„Çã", type: "ru-verb", te: ["„Åø„Å¶","Ë¶ã„Å¶"], masu: ["„Åø„Åæ„Åô","Ë¶ã„Åæ„Åô"], meaning: "to see; to watch"},
      {dict: "„Çè„Åô„Çå„Çã", type: "ru-verb", te: ["„Çè„Åô„Çå„Å¶","Âøò„Çå„Å¶"], masu: ["„Çè„Åô„Çå„Åæ„Åô","Âøò„Çå„Åæ„Åô"], meaning: "to forget"},
      {dict: "„Ç∑„É£„ÉØ„Éº„Çí„ÅÇ„Å≥„Çã", type: "ru-verb", te: ["„Ç∑„É£„ÉØ„Éº„Çí„ÅÇ„Å≥„Å¶"], masu: ["„Ç∑„É£„ÉØ„Éº„Çí„ÅÇ„Å≥„Åæ„Åô"], meaning: "to take a shower"},
      {dict: "„ÇÑ„Åõ„Çã", type: "ru-verb", te: ["„ÇÑ„Åõ„Å¶"], masu: ["„ÇÑ„Åõ„Åæ„Åô"], meaning: "to lose weight"},

      // Irregular
      {dict: "„Åè„Çã", type: "irregular", te: ["„Åç„Å¶","Êù•„Å¶"], masu: ["„Åç„Åæ„Åô","Êù•„Åæ„Åô"], meaning: "to come"},
      {dict: "„Åô„Çã", type: "irregular", te: ["„Åó„Å¶"], masu: ["„Åó„Åæ„Åô"], meaning: "to do"},
      {dict: "„Åπ„Çì„Åç„Çá„ÅÜ„Åô„Çã", type: "irregular", te: ["„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Å¶","ÂãâÂº∑„Åó„Å¶"], masu: ["„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Åæ„Åô","ÂãâÂº∑„Åó„Åæ„Åô"], meaning: "to study"},
      {dict: "„Åë„Å£„Åì„Çì„Åô„Çã", type: "irregular", te: ["„Åë„Å£„Åì„Çì„Åó„Å¶","ÁµêÂ©ö„Åó„Å¶"], masu: ["„Åë„Å£„Åì„Çì„Åó„Åæ„Åô","ÁµêÂ©ö„Åó„Åæ„Åô"], meaning: "to marry"},
      {dict: "„Åï„Çì„ÅΩ„Åô„Çã", type: "irregular", te: ["„Åï„Çì„ÅΩ„Åó„Å¶","Êï£Ê≠©„Åó„Å¶"], masu: ["„Åï„Çì„ÅΩ„Åó„Åæ„Åô","Êï£Ê≠©„Åó„Åæ„Åô"], meaning: "to take a walk"},
      {dict: "„ÅÜ„Çì„Å¶„Çì„Åô„Çã", type: "irregular", te: ["„ÅÜ„Çì„Å¶„Çì„Åó„Å¶","ÈÅãËª¢„Åó„Å¶"], masu: ["„ÅÜ„Çì„Å¶„Çì„Åó„Åæ„Åô","ÈÅãËª¢„Åó„Åæ„Åô"], meaning: "to drive"},
      {dict: "„Çä„Çá„Åì„ÅÜ„Åô„Çã", type: "irregular", te: ["„Çä„Çá„Åì„ÅÜ„Åó„Å¶","ÊóÖË°å„Åó„Å¶"], masu: ["„Çä„Çá„Åì„ÅÜ„Åó„Åæ„Åô","ÊóÖË°å„Åó„Åæ„Åô"], meaning: "to travel"},
      {dict: "„Åù„ÅÜ„Åò„Åô„Çã", type: "irregular", te: ["„Åù„ÅÜ„Åò„Åó„Å¶","ÊéÉÈô§„Åó„Å¶"], masu: ["„Åù„ÅÜ„Åò„Åó„Åæ„Åô","ÊéÉÈô§„Åó„Åæ„Åô"], meaning: "to clean"},
      {dict: "„Åß„Çì„Çè„Åô„Çã", type: "irregular", te: ["„Åß„Çì„Çè„Åó„Å¶","ÈõªË©±„Åó„Å¶"], masu: ["„Åß„Çì„Çè„Åó„Åæ„Åô","ÈõªË©±„Åó„Åæ„Åô"], meaning: "to call"},
      {dict: "„Å§„Çå„Å¶„Åè„Çã", type: "irregular", te: ["„Å§„Çå„Å¶„Åç„Å¶","ÈÄ£„Çå„Å¶„Åç„Å¶"], masu: ["„Å§„Çå„Å¶„Åç„Åæ„Åô","ÈÄ£„Çå„Å¶Êù•„Åæ„Åô"], meaning: "to bring (a person)"},
      {dict: "„ÇÇ„Å£„Å¶„Åè„Çã", type: "irregular", te: ["„ÇÇ„Å£„Å¶„Åç„Å¶","ÊåÅ„Å£„Å¶„Åç„Å¶"], masu: ["„ÇÇ„Å£„Å¶„Åç„Åæ„Åô","ÊåÅ„Å£„Å¶Êù•„Åæ„Åô"], meaning: "to bring (a thing)"}
    ];


    document.getElementById("totalVerbs").textContent = verbs.length;

    function startQuiz() {
      document.getElementById("menu").style.display = "none";
      document.getElementById("quiz").style.display = "block";
    }

    function showList() {
      document.getElementById("menu").style.display = "none";
      document.getElementById("list").style.display = "block";
      const tbody = document.getElementById("verbTable");
      tbody.innerHTML = "";
      verbs.forEach(v => {
        const row = `<tr>
          <td>${v.dict}</td>
          <td>${v.te.join(", ")}</td>
          <td>${v.masu.join(", ")}</td>
          <td>${v.type}</td>
          <td>${v.meaning}</td>
        </tr>`;
        tbody.innerHTML += row;
      });
    }

    let currentQuestions = [];
    let currentType = "te";

    function generateQuiz() {
      const num = Math.min(parseInt(document.getElementById("numQuestions").value), verbs.length);
      currentType = document.getElementById("quizType").value;
      currentQuestions = shuffle([...verbs]).slice(0, num);

      const form = document.getElementById("quizForm");
      form.innerHTML = "";
      currentQuestions.forEach((v, i) => {
        form.innerHTML += `
          <div class="mb-3">
            <label class="form-label">Q${i+1}: ${v.dict} (${v.meaning}) ‚Üí ${currentType}-form?</label>
            <input type="text" class="form-control" name="q${i}" data-answers='${JSON.stringify(v[currentType])}'>
          </div>
        `;
      });
      form.innerHTML += `<button type="submit" class="btn btn-success">Submit Answers</button>`;
    }

    function checkAnswers() {
      let score = 0;
      let output = "";
      currentQuestions.forEach((v, i) => {
        const input = document.querySelector(`[name=q${i}]`);
        const userAnswer = input.value.trim();
        const validAnswers = JSON.parse(input.getAttribute("data-answers"));
        if (validAnswers.includes(userAnswer)) {
          score++;
          output += `<div class="alert alert-success">‚úÖ Q${i+1}: Correct (${userAnswer})</div>`;
        } else {
          output += `<div class="alert alert-danger">‚ùå Q${i+1}: Your answer: "${userAnswer}"<br>Acceptable: ${validAnswers.join(", ")} (${v.type})</div>`;
        }
      });
      output += `<p class="fw-bold">Final Score: ${score}/${currentQuestions.length}</p>`;

      document.getElementById("quiz").style.display = "none";
      document.getElementById("results").style.display = "block";
      document.getElementById("resultsContent").innerHTML = output;
    }

    function reset() {
      document.getElementById("quiz").style.display = "none";
      document.getElementById("results").style.display = "none";
      document.getElementById("list").style.display = "none";
      document.getElementById("menu").style.display = "block";
    }

    // Fisher-Yates shuffle
    function shuffle(array) {
      let m = array.length, t, i;
      while (m) {
        i = Math.floor(Math.random() * m--);
        t = array[m]; array[m] = array[i]; array[i] = t;
      }
      return array;
    }
  </script>
</body>
</html>
