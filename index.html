<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Japanese Verb Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container">
    <h1 class="mb-4">📘 Japanese Te-Form Verb Quiz</h1>

    <!-- Menu -->
    <div id="menu" class="mb-3">
      <!-- Collapsible Te-form Cheat Sheet -->
      <div class="mb-3">
        <button class="btn btn-info mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#teFormTable" aria-expanded="true">
          📖 Show/Hide Te-form Conjugation Rules
        </button>

        <div class="collapse show" id="teFormTable">
          <div class="card">
            <div class="card-header bg-primary text-white">
              Te-form Conjugation Rules
            </div>
            <div class="card-body">
              <table class="table table-bordered table-sm text-center">
                <thead class="table-light">
                  <tr>
                    <th>Ending</th>
                    <th>Rule → て-form</th>
                    <th>Example</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>う, つ, る</td><td>→ って</td><td>あう → あって</td></tr>
                  <tr><td>む, ぶ, ぬ</td><td>→ んで</td><td>のむ → のんで</td></tr>
                  <tr><td>く</td><td>→ いて</td><td>きく → きいて</td></tr>
                  <tr><td>ぐ</td><td>→ いで</td><td>およぐ → およいで</td></tr>
                  <tr><td>す</td><td>→ して</td><td>はなす → はなして</td></tr>
                  <tr><td>る (Ru-verbs)</td><td>→ て</td><td>たべる → たべて</td></tr>
                  <tr>
                    <td>Irregular</td>
                    <td>する → して <br> くる → きて <br> いく → いって</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <button class="btn btn-primary me-2" onclick="startQuiz()">Take a Quiz</button>
      <button class="btn btn-secondary" onclick="showList()">List All Verbs</button>
    </div>

    <!-- Quiz -->
    <div id="quiz" style="display:none; position: relative; min-height: 100vh;">
      <h2>Quiz</h2>
      <div class="mb-3">
        <label class="form-label">How many questions? (1–<span id="totalVerbs"></span>):</label>
        <input type="number" id="numQuestions" class="form-control w-25 d-inline-block" min="1" value="5">
      </div>
      <div class="mb-3">
        <label class="form-label">Choose form to practice:</label>
        <select id="quizType" class="form-select w-25 d-inline-block">
          <option value="te">Te-form</option>
          <option value="masu">Masu-form</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Choose lesson:</label>
        <select id="lessonFilter" class="form-select w-25 d-inline-block"></select>
        <button class="btn btn-success ms-2" onclick="generateQuiz()">Start</button>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="skipIrregular">
        <label class="form-check-label" for="skipIrregular">Skip irregular verbs</label>
      </div>

      <!-- Quiz questions go here -->
      <form id="quizForm" onsubmit="checkAnswers(); return false;"></form>

      <div class="sticky-footer">
        <button class="btn btn-primary" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Results -->
    <div id="results" style="display:none;">
      <h2>Results</h2>
      <div id="resultsContent"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>

    <!-- Verb List -->
    <div id="list" style="display:none; position: relative; min-height: 100vh;">
      <h2>All Verbs by Lesson</h2>
      <div id="verbTables"></div>
      <div class="sticky-footer">
        <button class="btn btn-primary" onclick="reset()">🔙 Back to Menu</button>
      </div>
    </div>
  </div>

  <script src="js/verbs.js"></script>
  <script src="js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>